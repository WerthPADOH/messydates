<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Working with messy dates • messydates</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/paper/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Working with messy dates">
<meta property="og:description" content="messydates">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">messydates</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/messydates_intro.html">Working with messy dates</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="messydates_intro_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Working with messy dates</h1>
                        <h4 data-toc-skip class="author">Henrique Sposito</h4>
            
            <h4 data-toc-skip class="date">2022-02-18</h4>
      
      
      <div class="hidden name"><code>messydates_intro.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="why-messydates">Why <code>{messydates}</code>?<a class="anchor" aria-label="anchor" href="#why-messydates"></a>
</h2>
<p>Dates are often messy. Whether historical (or ancient), future, or even recent, we often only know approximately when an event occurred, that it happened within a particular period, an unreliable source means a date should be flagged as uncertain, or sources offer multiple, competing dates.</p>
<p>As researchers, we often recognise this messiness but are forced to force non-existent precision on data so we can proceed with analysis. For example, if we only know something happened in a given month or year, we might just opt for the start of that month (e.g. 2021-07-01) or year (2021-01-01), assuming that to err on the earlier (or later) side is a justifiable bias. However, this can create issues for inference in which sequence or timing is important. The goal of <code>{messydates}</code> is to help with this problem by retaining and working with various kinds of date imprecision.</p>
<p><code>{messydates}</code> contains a set of tools for constructing and coercing into and from the messydt class. This date class implements ISO 8601-2:2019(E) and allows regular dates to be annotated to express unspecified date components, approximate or uncertain date components, date ranges, and sets of dates. The function <code><a href="../reference/as_messydate.html">as_messydate()</a></code> handles the coercion to messydt class.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">messydates</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org" class="external-link">lubridate</a></span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'lubridate'</span>
<span class="co">#&gt; The following objects are masked from 'package:messydates':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     day, month, year</span>
<span class="co">#&gt; The following objects are masked from 'package:base':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     date, intersect, setdiff, union</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'dplyr'</span>
<span class="co">#&gt; The following objects are masked from 'package:stats':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     filter, lag</span>
<span class="co">#&gt; The following objects are masked from 'package:base':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     intersect, setdiff, setequal, union</span>
<span class="va">dates_comparison</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span><span class="op">~</span><span class="va">Example</span>, <span class="op">~</span><span class="va">OriginalDate</span>,
                                    <span class="st">"A normal date"</span>, <span class="st">"2010-01-01"</span>,
                                    <span class="st">"A historical date"</span>, <span class="st">"1291-08-01"</span>,
                                    <span class="st">"A very historical date"</span>, <span class="st">"476"</span>,
                                    <span class="st">"A really historical date"</span>, <span class="st">"33 BC"</span>,
                                    <span class="st">"A clearly future date"</span>, <span class="st">"9999-12-31"</span>,
                                    <span class="st">"A not so clearly future date"</span>, <span class="st">"2599-12-31"</span>,
                                    <span class="st">"A range of dates"</span>, <span class="st">"2019-11-01:2020-01-01"</span>,
                                    <span class="st">"An uncertain date"</span>, <span class="st">"2001-01-01?"</span>,
                                    <span class="st">"A set of dates"</span>, <span class="st">"2021-5-26, 2021-6-10, 2021-11-19, 2021-12-4"</span><span class="op">)</span>
<span class="va">dates_comparison</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>base <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">OriginalDate</span><span class="op">)</span>,
                                   lubridate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></span><span class="op">(</span><span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/as_date.html" class="external-link">as_date</a></span><span class="op">(</span><span class="va">OriginalDate</span><span class="op">)</span><span class="op">)</span>,
                                   messydates <span class="op">=</span> <span class="fu">messydates</span><span class="fu">::</span><span class="fu"><a href="../reference/as_messydate.html">as_messydate</a></span><span class="op">(</span><span class="va">OriginalDate</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 9 × 5</span></span>
<span class="co">#&gt;   Example                      OriginalDate     base       lubridate  messydates</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;messydt&gt;</span> </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> A normal date                2010-01-01       2010-01-01 2010-01-01 2010-01-0…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> A historical date            1291-08-01       1291-08-01 1291-08-01 1291-08-0…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> A very historical date       476              <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>         0476     …</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> A really historical date     33 BC            <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>         -0033    …</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> A clearly future date        9999-12-31       9999-12-31 9999-12-31 9999-12-3…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> A not so clearly future date 2599-12-31       2599-12-31 2599-12-31 2599-12-3…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">7</span> A range of dates             2019-11-01:2020… 2019-11-01 2019-11-01 2019-11-0…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">8</span> An uncertain date            2001-01-01?      2001-01-01 2001-01-01 2001-01-0…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">9</span> A set of dates               2021-5-26, 2021… 2021-05-26 <span style="color: #BB0000;">NA</span>         2021-05-2…</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="annotate">Annotate<a class="anchor" aria-label="anchor" href="#annotate"></a>
</h2>
<p>Some datasets have, for example, an arbitrary cut off point for start and end points, but these are often coded as precise dates when they are not necessarily the real start or end dates. The annotate functions helps annotate uncertainty and approximation to dates. Inaccurate start or end dates can be represented by an affix indicating “on or before”, if used as a prefix (e.g. ..1816-01-01), or indicating “on or after”, if used as a suffix (e.g. 2016-12-31..). Approximate dates are indicated by adding a <code>~</code> to year, month, or day components, as well as groups of components or whole dates to estimate values that are possibly correct (e.g. 2003-03-03~). Day, month, or year, uncertainty can be indicated by adding a <code>?</code> to a possibly dubious date (e.g. 1916-10-10?) or date component (e.g. 1916-?10-10).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dates_annotate</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>Beg <span class="op">=</span> <span class="fu"><a href="../reference/as_messydate.html">as_messydate</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1816-01-01"</span>, <span class="st">"1916-01-01"</span>, <span class="st">"2016-01-01"</span><span class="op">)</span><span class="op">)</span>,
                                 End <span class="op">=</span> <span class="fu"><a href="../reference/as_messydate.html">as_messydate</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1816-12-31"</span>, <span class="st">"1916-12-31"</span>, <span class="st">"2016-12-31"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="va">dates_annotate</span>, Beg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">Beg</span> <span class="op">&lt;=</span> <span class="st">"1816-01-01"</span>, <span class="fu"><a href="../reference/annotate.html">on_or_before</a></span><span class="op">(</span><span class="va">Beg</span><span class="op">)</span>, <span class="va">Beg</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 2</span></span>
<span class="co">#&gt;   Beg          End       </span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;messydt&gt;</span> </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> ..1816-01-01 1816-12-31</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 1916-01-01   1916-12-31</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2016-01-01   2016-12-31</span>
<span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="va">dates_annotate</span>, End <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">End</span> <span class="op">&gt;=</span> <span class="st">"2016-01-01"</span>, <span class="fu"><a href="../reference/annotate.html">on_or_after</a></span><span class="op">(</span><span class="va">End</span><span class="op">)</span>, <span class="va">End</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 2</span></span>
<span class="co">#&gt;   Beg        End         </span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;messydt&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 1816-01-01 1816-12-31  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 1916-01-01 1916-12-31  </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2016-01-01 2016-12-31..</span>
<span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="va">dates_annotate</span>, Beg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">Beg</span> <span class="op">==</span> <span class="st">"1916-01-01"</span>, <span class="fu"><a href="../reference/annotate.html">as_approximate</a></span><span class="op">(</span><span class="va">Beg</span><span class="op">)</span>, <span class="va">Beg</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 2</span></span>
<span class="co">#&gt;   Beg         End       </span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;messydt&gt;</span> </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 1816-01-01  1816-12-31</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 1916-01-01~ 1916-12-31</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2016-01-01  2016-12-31</span>
<span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="va">dates_annotate</span>, End <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">End</span> <span class="op">==</span> <span class="st">"1916-12-31"</span>, <span class="fu"><a href="../reference/annotate.html">as_uncertain</a></span><span class="op">(</span><span class="va">End</span><span class="op">)</span>, <span class="va">End</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 2</span></span>
<span class="co">#&gt;   Beg        End        </span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;messydt&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 1816-01-01 1816-12-31 </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 1916-01-01 1916-12-31?</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2016-01-01 2016-12-31</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="expand">Expand<a class="anchor" aria-label="anchor" href="#expand"></a>
</h2>
<p>Expand functions transform date ranges, sets of dates, and unspecified or approximate dates (annotated with ‘..’, ‘{ , }’, ‘XX’ or ‘~’) into lists of dates. As these dates may refer to several possible dates, the function “opens” these values to include all the possible dates implied.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dates_expand</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/as_messydate.html">as_messydate</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2008-03-25"</span>, <span class="st">"2001-01?"</span>, <span class="st">"2001"</span>,
                               <span class="st">"2001-01-01..2001-02-02"</span>, <span class="st">"{2001-01-01,2001-02-02}"</span>,
                               <span class="st">"2008-XX-31"</span>, <span class="st">"28 BC"</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/expand.html">expand</a></span><span class="op">(</span><span class="va">dates_expand</span><span class="op">)</span>
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; [1] "2008-03-25"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[2]]</span>
<span class="co">#&gt;  [1] "2001-01-01" "2001-01-02" "2001-01-03" "2001-01-04" "2001-01-05"</span>
<span class="co">#&gt;  [6] "2001-01-06" "2001-01-07" "2001-01-08" "2001-01-09" "2001-01-10"</span>
<span class="co">#&gt; [11] "2001-01-11" "2001-01-12" "2001-01-13" "2001-01-14" "2001-01-15"</span>
<span class="co">#&gt; [16] "2001-01-16" "2001-01-17" "2001-01-18" "2001-01-19" "2001-01-20"</span>
<span class="co">#&gt; [21] "2001-01-21" "2001-01-22" "2001-01-23" "2001-01-24" "2001-01-25"</span>
<span class="co">#&gt; [26] "2001-01-26" "2001-01-27" "2001-01-28" "2001-01-29" "2001-01-30"</span>
<span class="co">#&gt; [31] "2001-01-31"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[3]]</span>
<span class="co">#&gt;   [1] "2001-01-01" "2001-01-02" "2001-01-03" "2001-01-04" "2001-01-05"</span>
<span class="co">#&gt;   [6] "2001-01-06" "2001-01-07" "2001-01-08" "2001-01-09" "2001-01-10"</span>
<span class="co">#&gt;  [11] "2001-01-11" "2001-01-12" "2001-01-13" "2001-01-14" "2001-01-15"</span>
<span class="co">#&gt;  [16] "2001-01-16" "2001-01-17" "2001-01-18" "2001-01-19" "2001-01-20"</span>
<span class="co">#&gt;  [21] "2001-01-21" "2001-01-22" "2001-01-23" "2001-01-24" "2001-01-25"</span>
<span class="co">#&gt;  [26] "2001-01-26" "2001-01-27" "2001-01-28" "2001-01-29" "2001-01-30"</span>
<span class="co">#&gt;  [31] "2001-01-31" "2001-02-01" "2001-02-02" "2001-02-03" "2001-02-04"</span>
<span class="co">#&gt;  [36] "2001-02-05" "2001-02-06" "2001-02-07" "2001-02-08" "2001-02-09"</span>
<span class="co">#&gt;  [41] "2001-02-10" "2001-02-11" "2001-02-12" "2001-02-13" "2001-02-14"</span>
<span class="co">#&gt;  [46] "2001-02-15" "2001-02-16" "2001-02-17" "2001-02-18" "2001-02-19"</span>
<span class="co">#&gt;  [51] "2001-02-20" "2001-02-21" "2001-02-22" "2001-02-23" "2001-02-24"</span>
<span class="co">#&gt;  [56] "2001-02-25" "2001-02-26" "2001-02-27" "2001-02-28" "2001-03-01"</span>
<span class="co">#&gt;  [61] "2001-03-02" "2001-03-03" "2001-03-04" "2001-03-05" "2001-03-06"</span>
<span class="co">#&gt;  [66] "2001-03-07" "2001-03-08" "2001-03-09" "2001-03-10" "2001-03-11"</span>
<span class="co">#&gt;  [71] "2001-03-12" "2001-03-13" "2001-03-14" "2001-03-15" "2001-03-16"</span>
<span class="co">#&gt;  [76] "2001-03-17" "2001-03-18" "2001-03-19" "2001-03-20" "2001-03-21"</span>
<span class="co">#&gt;  [81] "2001-03-22" "2001-03-23" "2001-03-24" "2001-03-25" "2001-03-26"</span>
<span class="co">#&gt;  [86] "2001-03-27" "2001-03-28" "2001-03-29" "2001-03-30" "2001-03-31"</span>
<span class="co">#&gt;  [91] "2001-04-01" "2001-04-02" "2001-04-03" "2001-04-04" "2001-04-05"</span>
<span class="co">#&gt;  [96] "2001-04-06" "2001-04-07" "2001-04-08" "2001-04-09" "2001-04-10"</span>
<span class="co">#&gt; [101] "2001-04-11" "2001-04-12" "2001-04-13" "2001-04-14" "2001-04-15"</span>
<span class="co">#&gt; [106] "2001-04-16" "2001-04-17" "2001-04-18" "2001-04-19" "2001-04-20"</span>
<span class="co">#&gt; [111] "2001-04-21" "2001-04-22" "2001-04-23" "2001-04-24" "2001-04-25"</span>
<span class="co">#&gt; [116] "2001-04-26" "2001-04-27" "2001-04-28" "2001-04-29" "2001-04-30"</span>
<span class="co">#&gt; [121] "2001-05-01" "2001-05-02" "2001-05-03" "2001-05-04" "2001-05-05"</span>
<span class="co">#&gt; [126] "2001-05-06" "2001-05-07" "2001-05-08" "2001-05-09" "2001-05-10"</span>
<span class="co">#&gt; [131] "2001-05-11" "2001-05-12" "2001-05-13" "2001-05-14" "2001-05-15"</span>
<span class="co">#&gt; [136] "2001-05-16" "2001-05-17" "2001-05-18" "2001-05-19" "2001-05-20"</span>
<span class="co">#&gt; [141] "2001-05-21" "2001-05-22" "2001-05-23" "2001-05-24" "2001-05-25"</span>
<span class="co">#&gt; [146] "2001-05-26" "2001-05-27" "2001-05-28" "2001-05-29" "2001-05-30"</span>
<span class="co">#&gt; [151] "2001-05-31" "2001-06-01" "2001-06-02" "2001-06-03" "2001-06-04"</span>
<span class="co">#&gt; [156] "2001-06-05" "2001-06-06" "2001-06-07" "2001-06-08" "2001-06-09"</span>
<span class="co">#&gt; [161] "2001-06-10" "2001-06-11" "2001-06-12" "2001-06-13" "2001-06-14"</span>
<span class="co">#&gt; [166] "2001-06-15" "2001-06-16" "2001-06-17" "2001-06-18" "2001-06-19"</span>
<span class="co">#&gt; [171] "2001-06-20" "2001-06-21" "2001-06-22" "2001-06-23" "2001-06-24"</span>
<span class="co">#&gt; [176] "2001-06-25" "2001-06-26" "2001-06-27" "2001-06-28" "2001-06-29"</span>
<span class="co">#&gt; [181] "2001-06-30" "2001-07-01" "2001-07-02" "2001-07-03" "2001-07-04"</span>
<span class="co">#&gt; [186] "2001-07-05" "2001-07-06" "2001-07-07" "2001-07-08" "2001-07-09"</span>
<span class="co">#&gt; [191] "2001-07-10" "2001-07-11" "2001-07-12" "2001-07-13" "2001-07-14"</span>
<span class="co">#&gt; [196] "2001-07-15" "2001-07-16" "2001-07-17" "2001-07-18" "2001-07-19"</span>
<span class="co">#&gt; [201] "2001-07-20" "2001-07-21" "2001-07-22" "2001-07-23" "2001-07-24"</span>
<span class="co">#&gt; [206] "2001-07-25" "2001-07-26" "2001-07-27" "2001-07-28" "2001-07-29"</span>
<span class="co">#&gt; [211] "2001-07-30" "2001-07-31" "2001-08-01" "2001-08-02" "2001-08-03"</span>
<span class="co">#&gt; [216] "2001-08-04" "2001-08-05" "2001-08-06" "2001-08-07" "2001-08-08"</span>
<span class="co">#&gt; [221] "2001-08-09" "2001-08-10" "2001-08-11" "2001-08-12" "2001-08-13"</span>
<span class="co">#&gt; [226] "2001-08-14" "2001-08-15" "2001-08-16" "2001-08-17" "2001-08-18"</span>
<span class="co">#&gt; [231] "2001-08-19" "2001-08-20" "2001-08-21" "2001-08-22" "2001-08-23"</span>
<span class="co">#&gt; [236] "2001-08-24" "2001-08-25" "2001-08-26" "2001-08-27" "2001-08-28"</span>
<span class="co">#&gt; [241] "2001-08-29" "2001-08-30" "2001-08-31" "2001-09-01" "2001-09-02"</span>
<span class="co">#&gt; [246] "2001-09-03" "2001-09-04" "2001-09-05" "2001-09-06" "2001-09-07"</span>
<span class="co">#&gt; [251] "2001-09-08" "2001-09-09" "2001-09-10" "2001-09-11" "2001-09-12"</span>
<span class="co">#&gt; [256] "2001-09-13" "2001-09-14" "2001-09-15" "2001-09-16" "2001-09-17"</span>
<span class="co">#&gt; [261] "2001-09-18" "2001-09-19" "2001-09-20" "2001-09-21" "2001-09-22"</span>
<span class="co">#&gt; [266] "2001-09-23" "2001-09-24" "2001-09-25" "2001-09-26" "2001-09-27"</span>
<span class="co">#&gt; [271] "2001-09-28" "2001-09-29" "2001-09-30" "2001-10-01" "2001-10-02"</span>
<span class="co">#&gt; [276] "2001-10-03" "2001-10-04" "2001-10-05" "2001-10-06" "2001-10-07"</span>
<span class="co">#&gt; [281] "2001-10-08" "2001-10-09" "2001-10-10" "2001-10-11" "2001-10-12"</span>
<span class="co">#&gt; [286] "2001-10-13" "2001-10-14" "2001-10-15" "2001-10-16" "2001-10-17"</span>
<span class="co">#&gt; [291] "2001-10-18" "2001-10-19" "2001-10-20" "2001-10-21" "2001-10-22"</span>
<span class="co">#&gt; [296] "2001-10-23" "2001-10-24" "2001-10-25" "2001-10-26" "2001-10-27"</span>
<span class="co">#&gt; [301] "2001-10-28" "2001-10-29" "2001-10-30" "2001-10-31" "2001-11-01"</span>
<span class="co">#&gt; [306] "2001-11-02" "2001-11-03" "2001-11-04" "2001-11-05" "2001-11-06"</span>
<span class="co">#&gt; [311] "2001-11-07" "2001-11-08" "2001-11-09" "2001-11-10" "2001-11-11"</span>
<span class="co">#&gt; [316] "2001-11-12" "2001-11-13" "2001-11-14" "2001-11-15" "2001-11-16"</span>
<span class="co">#&gt; [321] "2001-11-17" "2001-11-18" "2001-11-19" "2001-11-20" "2001-11-21"</span>
<span class="co">#&gt; [326] "2001-11-22" "2001-11-23" "2001-11-24" "2001-11-25" "2001-11-26"</span>
<span class="co">#&gt; [331] "2001-11-27" "2001-11-28" "2001-11-29" "2001-11-30" "2001-12-01"</span>
<span class="co">#&gt; [336] "2001-12-02" "2001-12-03" "2001-12-04" "2001-12-05" "2001-12-06"</span>
<span class="co">#&gt; [341] "2001-12-07" "2001-12-08" "2001-12-09" "2001-12-10" "2001-12-11"</span>
<span class="co">#&gt; [346] "2001-12-12" "2001-12-13" "2001-12-14" "2001-12-15" "2001-12-16"</span>
<span class="co">#&gt; [351] "2001-12-17" "2001-12-18" "2001-12-19" "2001-12-20" "2001-12-21"</span>
<span class="co">#&gt; [356] "2001-12-22" "2001-12-23" "2001-12-24" "2001-12-25" "2001-12-26"</span>
<span class="co">#&gt; [361] "2001-12-27" "2001-12-28" "2001-12-29" "2001-12-30" "2001-12-31"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[4]]</span>
<span class="co">#&gt;  [1] "2001-01-01" "2001-01-02" "2001-01-03" "2001-01-04" "2001-01-05"</span>
<span class="co">#&gt;  [6] "2001-01-06" "2001-01-07" "2001-01-08" "2001-01-09" "2001-01-10"</span>
<span class="co">#&gt; [11] "2001-01-11" "2001-01-12" "2001-01-13" "2001-01-14" "2001-01-15"</span>
<span class="co">#&gt; [16] "2001-01-16" "2001-01-17" "2001-01-18" "2001-01-19" "2001-01-20"</span>
<span class="co">#&gt; [21] "2001-01-21" "2001-01-22" "2001-01-23" "2001-01-24" "2001-01-25"</span>
<span class="co">#&gt; [26] "2001-01-26" "2001-01-27" "2001-01-28" "2001-01-29" "2001-01-30"</span>
<span class="co">#&gt; [31] "2001-01-31" "2001-02-01" "2001-02-02"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[5]]</span>
<span class="co">#&gt; [1] "2001-01-01" "2001-02-02"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[6]]</span>
<span class="co">#&gt;  [1] "2008-01-31" "2008-02-28" "2008-03-31" "2008-04-30" "2008-05-31"</span>
<span class="co">#&gt;  [6] "2008-06-30" "2008-07-31" "2008-08-31" "2008-09-30" "2008-10-31"</span>
<span class="co">#&gt; [11] "2008-11-30" "2008-12-31"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[7]]</span>
<span class="co">#&gt;   [1] "-0028-01-01" "-0028-01-02" "-0028-01-03" "-0028-01-04" "-0028-01-05"</span>
<span class="co">#&gt;   [6] "-0028-01-06" "-0028-01-07" "-0028-01-08" "-0028-01-09" "-0028-01-10"</span>
<span class="co">#&gt;  [11] "-0028-01-11" "-0028-01-12" "-0028-01-13" "-0028-01-14" "-0028-01-15"</span>
<span class="co">#&gt;  [16] "-0028-01-16" "-0028-01-17" "-0028-01-18" "-0028-01-19" "-0028-01-20"</span>
<span class="co">#&gt;  [21] "-0028-01-21" "-0028-01-22" "-0028-01-23" "-0028-01-24" "-0028-01-25"</span>
<span class="co">#&gt;  [26] "-0028-01-26" "-0028-01-27" "-0028-01-28" "-0028-01-29" "-0028-01-30"</span>
<span class="co">#&gt;  [31] "-0028-01-31" "-0028-02-01" "-0028-02-02" "-0028-02-03" "-0028-02-04"</span>
<span class="co">#&gt;  [36] "-0028-02-05" "-0028-02-06" "-0028-02-07" "-0028-02-08" "-0028-02-09"</span>
<span class="co">#&gt;  [41] "-0028-02-10" "-0028-02-11" "-0028-02-12" "-0028-02-13" "-0028-02-14"</span>
<span class="co">#&gt;  [46] "-0028-02-15" "-0028-02-16" "-0028-02-17" "-0028-02-18" "-0028-02-19"</span>
<span class="co">#&gt;  [51] "-0028-02-20" "-0028-02-21" "-0028-02-22" "-0028-02-23" "-0028-02-24"</span>
<span class="co">#&gt;  [56] "-0028-02-25" "-0028-02-26" "-0028-02-27" "-0028-02-28" "-0028-02-29"</span>
<span class="co">#&gt;  [61] "-0028-03-01" "-0028-03-02" "-0028-03-03" "-0028-03-04" "-0028-03-05"</span>
<span class="co">#&gt;  [66] "-0028-03-06" "-0028-03-07" "-0028-03-08" "-0028-03-09" "-0028-03-10"</span>
<span class="co">#&gt;  [71] "-0028-03-11" "-0028-03-12" "-0028-03-13" "-0028-03-14" "-0028-03-15"</span>
<span class="co">#&gt;  [76] "-0028-03-16" "-0028-03-17" "-0028-03-18" "-0028-03-19" "-0028-03-20"</span>
<span class="co">#&gt;  [81] "-0028-03-21" "-0028-03-22" "-0028-03-23" "-0028-03-24" "-0028-03-25"</span>
<span class="co">#&gt;  [86] "-0028-03-26" "-0028-03-27" "-0028-03-28" "-0028-03-29" "-0028-03-30"</span>
<span class="co">#&gt;  [91] "-0028-03-31" "-0028-04-01" "-0028-04-02" "-0028-04-03" "-0028-04-04"</span>
<span class="co">#&gt;  [96] "-0028-04-05" "-0028-04-06" "-0028-04-07" "-0028-04-08" "-0028-04-09"</span>
<span class="co">#&gt; [101] "-0028-04-10" "-0028-04-11" "-0028-04-12" "-0028-04-13" "-0028-04-14"</span>
<span class="co">#&gt; [106] "-0028-04-15" "-0028-04-16" "-0028-04-17" "-0028-04-18" "-0028-04-19"</span>
<span class="co">#&gt; [111] "-0028-04-20" "-0028-04-21" "-0028-04-22" "-0028-04-23" "-0028-04-24"</span>
<span class="co">#&gt; [116] "-0028-04-25" "-0028-04-26" "-0028-04-27" "-0028-04-28" "-0028-04-29"</span>
<span class="co">#&gt; [121] "-0028-04-30" "-0028-05-01" "-0028-05-02" "-0028-05-03" "-0028-05-04"</span>
<span class="co">#&gt; [126] "-0028-05-05" "-0028-05-06" "-0028-05-07" "-0028-05-08" "-0028-05-09"</span>
<span class="co">#&gt; [131] "-0028-05-10" "-0028-05-11" "-0028-05-12" "-0028-05-13" "-0028-05-14"</span>
<span class="co">#&gt; [136] "-0028-05-15" "-0028-05-16" "-0028-05-17" "-0028-05-18" "-0028-05-19"</span>
<span class="co">#&gt; [141] "-0028-05-20" "-0028-05-21" "-0028-05-22" "-0028-05-23" "-0028-05-24"</span>
<span class="co">#&gt; [146] "-0028-05-25" "-0028-05-26" "-0028-05-27" "-0028-05-28" "-0028-05-29"</span>
<span class="co">#&gt; [151] "-0028-05-30" "-0028-05-31" "-0028-06-01" "-0028-06-02" "-0028-06-03"</span>
<span class="co">#&gt; [156] "-0028-06-04" "-0028-06-05" "-0028-06-06" "-0028-06-07" "-0028-06-08"</span>
<span class="co">#&gt; [161] "-0028-06-09" "-0028-06-10" "-0028-06-11" "-0028-06-12" "-0028-06-13"</span>
<span class="co">#&gt; [166] "-0028-06-14" "-0028-06-15" "-0028-06-16" "-0028-06-17" "-0028-06-18"</span>
<span class="co">#&gt; [171] "-0028-06-19" "-0028-06-20" "-0028-06-21" "-0028-06-22" "-0028-06-23"</span>
<span class="co">#&gt; [176] "-0028-06-24" "-0028-06-25" "-0028-06-26" "-0028-06-27" "-0028-06-28"</span>
<span class="co">#&gt; [181] "-0028-06-29" "-0028-06-30" "-0028-07-01" "-0028-07-02" "-0028-07-03"</span>
<span class="co">#&gt; [186] "-0028-07-04" "-0028-07-05" "-0028-07-06" "-0028-07-07" "-0028-07-08"</span>
<span class="co">#&gt; [191] "-0028-07-09" "-0028-07-10" "-0028-07-11" "-0028-07-12" "-0028-07-13"</span>
<span class="co">#&gt; [196] "-0028-07-14" "-0028-07-15" "-0028-07-16" "-0028-07-17" "-0028-07-18"</span>
<span class="co">#&gt; [201] "-0028-07-19" "-0028-07-20" "-0028-07-21" "-0028-07-22" "-0028-07-23"</span>
<span class="co">#&gt; [206] "-0028-07-24" "-0028-07-25" "-0028-07-26" "-0028-07-27" "-0028-07-28"</span>
<span class="co">#&gt; [211] "-0028-07-29" "-0028-07-30" "-0028-07-31" "-0028-08-01" "-0028-08-02"</span>
<span class="co">#&gt; [216] "-0028-08-03" "-0028-08-04" "-0028-08-05" "-0028-08-06" "-0028-08-07"</span>
<span class="co">#&gt; [221] "-0028-08-08" "-0028-08-09" "-0028-08-10" "-0028-08-11" "-0028-08-12"</span>
<span class="co">#&gt; [226] "-0028-08-13" "-0028-08-14" "-0028-08-15" "-0028-08-16" "-0028-08-17"</span>
<span class="co">#&gt; [231] "-0028-08-18" "-0028-08-19" "-0028-08-20" "-0028-08-21" "-0028-08-22"</span>
<span class="co">#&gt; [236] "-0028-08-23" "-0028-08-24" "-0028-08-25" "-0028-08-26" "-0028-08-27"</span>
<span class="co">#&gt; [241] "-0028-08-28" "-0028-08-29" "-0028-08-30" "-0028-08-31" "-0028-09-01"</span>
<span class="co">#&gt; [246] "-0028-09-02" "-0028-09-03" "-0028-09-04" "-0028-09-05" "-0028-09-06"</span>
<span class="co">#&gt; [251] "-0028-09-07" "-0028-09-08" "-0028-09-09" "-0028-09-10" "-0028-09-11"</span>
<span class="co">#&gt; [256] "-0028-09-12" "-0028-09-13" "-0028-09-14" "-0028-09-15" "-0028-09-16"</span>
<span class="co">#&gt; [261] "-0028-09-17" "-0028-09-18" "-0028-09-19" "-0028-09-20" "-0028-09-21"</span>
<span class="co">#&gt; [266] "-0028-09-22" "-0028-09-23" "-0028-09-24" "-0028-09-25" "-0028-09-26"</span>
<span class="co">#&gt; [271] "-0028-09-27" "-0028-09-28" "-0028-09-29" "-0028-09-30" "-0028-10-01"</span>
<span class="co">#&gt; [276] "-0028-10-02" "-0028-10-03" "-0028-10-04" "-0028-10-05" "-0028-10-06"</span>
<span class="co">#&gt; [281] "-0028-10-07" "-0028-10-08" "-0028-10-09" "-0028-10-10" "-0028-10-11"</span>
<span class="co">#&gt; [286] "-0028-10-12" "-0028-10-13" "-0028-10-14" "-0028-10-15" "-0028-10-16"</span>
<span class="co">#&gt; [291] "-0028-10-17" "-0028-10-18" "-0028-10-19" "-0028-10-20" "-0028-10-21"</span>
<span class="co">#&gt; [296] "-0028-10-22" "-0028-10-23" "-0028-10-24" "-0028-10-25" "-0028-10-26"</span>
<span class="co">#&gt; [301] "-0028-10-27" "-0028-10-28" "-0028-10-29" "-0028-10-30" "-0028-10-31"</span>
<span class="co">#&gt; [306] "-0028-11-01" "-0028-11-02" "-0028-11-03" "-0028-11-04" "-0028-11-05"</span>
<span class="co">#&gt; [311] "-0028-11-06" "-0028-11-07" "-0028-11-08" "-0028-11-09" "-0028-11-10"</span>
<span class="co">#&gt; [316] "-0028-11-11" "-0028-11-12" "-0028-11-13" "-0028-11-14" "-0028-11-15"</span>
<span class="co">#&gt; [321] "-0028-11-16" "-0028-11-17" "-0028-11-18" "-0028-11-19" "-0028-11-20"</span>
<span class="co">#&gt; [326] "-0028-11-21" "-0028-11-22" "-0028-11-23" "-0028-11-24" "-0028-11-25"</span>
<span class="co">#&gt; [331] "-0028-11-26" "-0028-11-27" "-0028-11-28" "-0028-11-29" "-0028-11-30"</span>
<span class="co">#&gt; [336] "-0028-12-01" "-0028-12-02" "-0028-12-03" "-0028-12-04" "-0028-12-05"</span>
<span class="co">#&gt; [341] "-0028-12-06" "-0028-12-07" "-0028-12-08" "-0028-12-09" "-0028-12-10"</span>
<span class="co">#&gt; [346] "-0028-12-11" "-0028-12-12" "-0028-12-13" "-0028-12-14" "-0028-12-15"</span>
<span class="co">#&gt; [351] "-0028-12-16" "-0028-12-17" "-0028-12-18" "-0028-12-19" "-0028-12-20"</span>
<span class="co">#&gt; [356] "-0028-12-21" "-0028-12-22" "-0028-12-23" "-0028-12-24" "-0028-12-25"</span>
<span class="co">#&gt; [361] "-0028-12-26" "-0028-12-27" "-0028-12-28" "-0028-12-29" "-0028-12-30"</span>
<span class="co">#&gt; [366] "-0028-12-31"</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="contract">Contract<a class="anchor" aria-label="anchor" href="#contract"></a>
</h2>
<p>The <code><a href="../reference/contract.html">contract()</a></code> function operates as the opposite of <code><a href="../reference/expand.html">expand()</a></code>. It contracts a list of dates into the abbreviated annotation of messydates.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>contract <span class="op">=</span> <span class="fu"><a href="../reference/contract.html">contract</a></span><span class="op">(</span><span class="fu"><a href="../reference/expand.html">expand</a></span><span class="op">(</span><span class="va">dates_expand</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 7 × 1</span></span>
<span class="co">#&gt;   contract                                                                      </span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;messydt&gt;</span>                                                                     </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2008-03-25                                                                   …</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2001-01                                                                      …</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2001                                                                         …</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2001-01-01..2001-02-02                                                       …</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> {2001-01-01,2001-02-02}                                                      …</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> {2008-01-31,2008-02-28,2008-03-31,2008-04-30,2008-05-31,2008-06-30,2008-07-31…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">7</span> -0028                                                                        …</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="coerce-from-messydates">Coerce from messydates<a class="anchor" aria-label="anchor" href="#coerce-from-messydates"></a>
</h2>
<p>Coercion functions coerce objects of <code>messydt</code> class to common date classes such as <code>Date</code>, <code>POSIXct</code>, and <code>POSIXlt</code>. Since <code>messydt</code> objects can hold multiple individual dates, an additional function must be passed as an argument so that multiple dates are “resolved” into a single date.</p>
<p>For example, one might wish to use the earliest possible date in any ranges of dates (<code>min</code>), the latest possible date (<code>max</code>), some notion of a central tendency (<code>mean</code>, <code>median</code>, or <code>modal</code>), or even a <code>random</code> selection from amongst the candidate dates.</p>
<p>These functions are particularly useful for use with existing methods and models, especially for checking the robustness of results.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>min <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">dates_expand</span>, <span class="va">min</span><span class="op">)</span>,
               max <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">dates_expand</span>, <span class="va">max</span><span class="op">)</span>,
               median <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">dates_expand</span>, <span class="va">median</span><span class="op">)</span>,
               mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">dates_expand</span>, <span class="va">mean</span><span class="op">)</span>,
               modal <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">dates_expand</span>, <span class="va">modal</span><span class="op">)</span>,
               random <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">dates_expand</span>, <span class="va">random</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 7 × 6</span></span>
<span class="co">#&gt;   min        max        median     mean       modal      random    </span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>    </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2008-03-25 2008-03-25 2008-03-25 2008-03-25 2008-03-25 2008-03-25</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2001-01-01 2001-01-31 2001-01-16 2001-01-16 2001-01-01 2001-01-16</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2001-01-01 2001-12-31 2001-07-02 2001-07-02 2001-01-01 2001-12-05</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2001-01-01 2001-02-02 2001-01-17 2001-01-17 2001-01-01 2001-01-19</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2001-01-01 2001-02-02 2001-02-02 2001-01-17 2001-01-01 2001-01-01</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 2008-01-31 2008-12-31 2008-07-31 2008-07-15 2008-01-31 2008-10-31</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">7</span> -028-01-01 -028-12-31 -028-07-02 -028-07-01 -028-01-01 -028-04-29</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="additional-functionality">Additional functionality<a class="anchor" aria-label="anchor" href="#additional-functionality"></a>
</h2>
<p>Several other functions are also offered in the <code>{messydates}</code> package.</p>
<p>For example, one can check various logical tests for messy date objects. <code><a href="../reference/logical.html">is_messydate()</a></code> tests whether the object inherits the <code>messydt</code> class. <code><a href="../reference/logical.html">is_intersecting()</a></code> tests whether there is any intersection between two messy dates. <code><a href="../reference/logical.html">is_element()</a></code> similarly tests whether a messy date can be found within a messy date range or set. <code><a href="../reference/logical.html">is_similar()</a></code> tests whether two dates contain similar components.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/logical.html">is_messydate</a></span><span class="op">(</span><span class="fu"><a href="../reference/as_messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-01-01"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="../reference/logical.html">is_messydate</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2012-01-01"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] FALSE</span>
<span class="fu"><a href="../reference/logical.html">is_intersecting</a></span><span class="op">(</span><span class="fu"><a href="../reference/as_messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-01"</span><span class="op">)</span>, <span class="fu"><a href="../reference/as_messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-01-01..2012-02-22"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] FALSE</span>
<span class="fu"><a href="../reference/logical.html">is_intersecting</a></span><span class="op">(</span><span class="fu"><a href="../reference/as_messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-01"</span><span class="op">)</span>, <span class="fu"><a href="../reference/as_messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-02-01..2012-02-22"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] FALSE</span>
<span class="fu"><a href="../reference/logical.html">is_element</a></span><span class="op">(</span><span class="fu"><a href="../reference/as_messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-01-01"</span><span class="op">)</span>, <span class="fu"><a href="../reference/as_messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-01"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="../reference/logical.html">is_element</a></span><span class="op">(</span><span class="fu"><a href="../reference/as_messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-01-01"</span><span class="op">)</span>, <span class="fu"><a href="../reference/as_messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-02"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] FALSE</span>
<span class="fu"><a href="../reference/logical.html">is_similar</a></span><span class="op">(</span><span class="fu"><a href="../reference/as_messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-06-02"</span><span class="op">)</span>, <span class="fu"><a href="../reference/as_messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-02-06"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="../reference/logical.html">is_similar</a></span><span class="op">(</span><span class="fu"><a href="../reference/as_messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-06-22"</span><span class="op">)</span>, <span class="fu"><a href="../reference/as_messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-02-06"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] FALSE</span></code></pre></div>
<p>Additionally, one can perform intersection (<code><a href="../reference/set.html">md_intersect()</a></code>) and union (<code><a href="../reference/set.html">md_union()</a></code>) on, inter alia, messy date class objects. Or ‘join’ that retains all elements, even if duplicated, with <code>md_multiset</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/set.html">md_intersect</a></span><span class="op">(</span><span class="fu"><a href="../reference/as_messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-01-01..2012-01-20"</span><span class="op">)</span>,<span class="fu"><a href="../reference/as_messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-01"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;  [1] "2012-01-01" "2012-01-02" "2012-01-03" "2012-01-04" "2012-01-05"</span>
<span class="co">#&gt;  [6] "2012-01-06" "2012-01-07" "2012-01-08" "2012-01-09" "2012-01-10"</span>
<span class="co">#&gt; [11] "2012-01-11" "2012-01-12" "2012-01-13" "2012-01-14" "2012-01-15"</span>
<span class="co">#&gt; [16] "2012-01-16" "2012-01-17" "2012-01-18" "2012-01-19" "2012-01-20"</span>
<span class="fu"><a href="../reference/set.html">md_union</a></span><span class="op">(</span><span class="fu"><a href="../reference/as_messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-01-01..2012-01-20"</span><span class="op">)</span>,<span class="fu"><a href="../reference/as_messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-01"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;  [1] "2012-01-01" "2012-01-02" "2012-01-03" "2012-01-04" "2012-01-05"</span>
<span class="co">#&gt;  [6] "2012-01-06" "2012-01-07" "2012-01-08" "2012-01-09" "2012-01-10"</span>
<span class="co">#&gt; [11] "2012-01-11" "2012-01-12" "2012-01-13" "2012-01-14" "2012-01-15"</span>
<span class="co">#&gt; [16] "2012-01-16" "2012-01-17" "2012-01-18" "2012-01-19" "2012-01-20"</span>
<span class="co">#&gt; [21] "2012-01-21" "2012-01-22" "2012-01-23" "2012-01-24" "2012-01-25"</span>
<span class="co">#&gt; [26] "2012-01-26" "2012-01-27" "2012-01-28" "2012-01-29" "2012-01-30"</span>
<span class="co">#&gt; [31] "2012-01-31"</span>
<span class="fu"><a href="../reference/set.html">md_multiset</a></span><span class="op">(</span><span class="fu"><a href="../reference/as_messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-01-01..2012-01-20"</span><span class="op">)</span>,<span class="fu"><a href="../reference/as_messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-01"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;  [1] "2012-01-01" "2012-01-02" "2012-01-03" "2012-01-04" "2012-01-05"</span>
<span class="co">#&gt;  [6] "2012-01-06" "2012-01-07" "2012-01-08" "2012-01-09" "2012-01-10"</span>
<span class="co">#&gt; [11] "2012-01-11" "2012-01-12" "2012-01-13" "2012-01-14" "2012-01-15"</span>
<span class="co">#&gt; [16] "2012-01-16" "2012-01-17" "2012-01-18" "2012-01-19" "2012-01-20"</span>
<span class="co">#&gt; [21] "2012-01-01" "2012-01-02" "2012-01-03" "2012-01-04" "2012-01-05"</span>
<span class="co">#&gt; [26] "2012-01-06" "2012-01-07" "2012-01-08" "2012-01-09" "2012-01-10"</span>
<span class="co">#&gt; [31] "2012-01-11" "2012-01-12" "2012-01-13" "2012-01-14" "2012-01-15"</span>
<span class="co">#&gt; [36] "2012-01-16" "2012-01-17" "2012-01-18" "2012-01-19" "2012-01-20"</span>
<span class="co">#&gt; [41] "2012-01-21" "2012-01-22" "2012-01-23" "2012-01-24" "2012-01-25"</span>
<span class="co">#&gt; [46] "2012-01-26" "2012-01-27" "2012-01-28" "2012-01-29" "2012-01-30"</span>
<span class="co">#&gt; [51] "2012-01-31"</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://jameshollway.com" class="external-link">James Hollway</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
